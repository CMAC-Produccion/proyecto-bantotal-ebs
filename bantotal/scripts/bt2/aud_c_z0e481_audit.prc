CREATE OR REPLACE PROCEDURE AUD_C_Z0E481_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_Z0E481_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481',CONCAT( CONCAT( '|Z0E481NRO=', RTRIM(COALESCE(AUD_old_Z0E481NRO,AUD_new_Z0E481NRO)) ),'|' ),AUD_Z0E481_UBT,AUD_Z0E481_UBU,AUD_Z0E481_UBM,AUD_Z0E481_UBP,AUD_Z0E481_UBR,AUD_Z0E481_UAs,AUD_Z0E481_UBC,AUD_Z0E481_UBA,AUD_Z0E481_UBS, '', 'BANTOTAL', '', '', '',AUD_Z0E481_UT FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E461COD',AUD_old_Z0E461COD,AUD_new_Z0E461COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E461COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E462COD',AUD_old_Z0E462COD,AUD_new_Z0E462COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E462COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E463COD',AUD_old_Z0E463COD,AUD_new_Z0E463COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E463COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E465COD',AUD_old_Z0E465COD,AUD_new_Z0E465COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E465COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E466COD',AUD_old_Z0E466COD,AUD_new_Z0E466COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E466COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E468COD',AUD_old_Z0E468COD,AUD_new_Z0E468COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E468COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E469COD',AUD_old_Z0E469COD,AUD_new_Z0E469COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E469COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E477COD',AUD_old_Z0E477COD,AUD_new_Z0E477COD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E477COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481ADI',AUD_old_Z0E481ADI,AUD_new_Z0E481ADI FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481ADI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CAN',AUD_old_Z0E481CAN,AUD_new_Z0E481CAN FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CAN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CDO',AUD_old_Z0E481CDO,AUD_new_Z0E481CDO FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND
 AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CDO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CLI',AUD_old_Z0E481CLI,AUD_new_Z0E481CLI FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CLI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CSA',AUD_old_Z0E481CSA,AUD_new_Z0E481CSA FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CSA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CTD',AUD_old_Z0E481CTD,AUD_new_Z0E481CTD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CTD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CTE',AUD_old_Z0E481CTE,AUD_new_Z0E481CTE FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CTE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481CTT',AUD_old_Z0E481CTT,AUD_new_Z0E481CTT FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481CTT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DCD',AUD_old_Z0E481DCD,AUD_new_Z0E481DCD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DCD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DMN',AUD_old_Z0E481DMN,AUD_new_Z0E481DMN FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DMN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DMO',AUD_old_Z0E481DMO,AUD_new_Z0E481DMO FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DMO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DOP',AUD_old_Z0E481DOP,AUD_new_Z0E481DOP FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DPA',AUD_old_Z0E481DPA,AUD_new_Z0E481DPA FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DPA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DSC',AUD_old_Z0E481DSC,AUD_new_Z0E481DSC FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DSC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DSU',AUD_old_Z0E481DSU,AUD_new_Z0E481DSU FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DSU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481DTO',AUD_old_Z0E481DTO,AUD_new_Z0E481DTO FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481DTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481EST',AUD_old_Z0E481EST,AUD_new_Z0E481EST FROM BANTPROD
.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481EST'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481FAS',TO_CHAR(AUD_old_Z0E481FAS,'YYYY-MM-DD'),TO_CHAR(AUD_new_Z0E481FAS,'YYYY-MM-DD') FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481FAS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481FAU',TO_CHAR(AUD_old_Z0E481FAU,'YYYY-MM-DD'),TO_CHAR(AUD_new_Z0E481FAU,'YYYY-MM-DD') FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481FAU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481FBS',TO_CHAR(AUD_old_Z0E481FBS,'YYYY-MM-DD'),TO_CHAR(AUD_new_Z0E481FBS,'YYYY-MM-DD') FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481FBS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481FMD',TO_CHAR(AUD_old_Z0E481FMD,'YYYY-MM-DD'),TO_CHAR(AUD_new_Z0E481FMD,'YYYY-MM-DD') FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481FMD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481FVT',TO_CHAR(AUD_old_Z0E481FVT,'YYYY-MM-DD'),TO_CHAR(AUD_new_Z0E481FVT,'YYYY-MM-DD') FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481FVT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481LEX',AUD_old_Z0E481LEX,AUD_new_Z0E481LEX FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481LEX'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481LIN',AUD_old_Z0E481LIN,AUD_new_Z0E481LIN FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481LIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481NOM',AUD_old_Z0E481NOM,AUD_new_Z0E481NOM FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481NOM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481NR1',AUD_old_Z0E481NR1,AUD_new_Z0E481NR1 FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481NR1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481NR2',AUD_old_Z0E481NR2,AUD_new_Z0E481NR2 FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481NR2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481NRO',AUD_old_Z0E481NRO,AUD_new_Z0E481NRO FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481NRO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481PES',AUD_old_Z0E481PES,AUD_new_Z0E481PES FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481PES'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481PGC',AUD_old_Z0E481PGC,AU
D_new_Z0E481PGC FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481PGC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481SDE',AUD_old_Z0E481SDE,AUD_new_Z0E481SDE FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481SDE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481SEG',AUD_old_Z0E481SEG,AUD_new_Z0E481SEG FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481SEG'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481SUC',AUD_old_Z0E481SUC,AUD_new_Z0E481SUC FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481SUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481TCD',AUD_old_Z0E481TCD,AUD_new_Z0E481TCD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481TCD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481THD',AUD_old_Z0E481THD,AUD_new_Z0E481THD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481THD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481THP',AUD_old_Z0E481THP,AUD_new_Z0E481THP FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481THP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481THT',AUD_old_Z0E481THT,AUD_new_Z0E481THT FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481THT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481TIP',AUD_old_Z0E481TIP,AUD_new_Z0E481TIP FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481TIP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481TNV',AUD_old_Z0E481TNV,AUD_new_Z0E481TNV FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481TNV'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481TTI',AUD_old_Z0E481TTI,AUD_new_Z0E481TTI FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481TTI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481UAU',AUD_old_Z0E481UAU,AUD_new_Z0E481UAU FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481UAU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_Z0E481_UOn,AUD_Z0E481_GuidKey,'Z0E481UMD',AUD_old_Z0E481UMD,AUD_new_Z0E481UMD FROM BANTPROD.AUD_Z0E481_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey AND AUDMstFld = 'Z0E481UMD'); DELETE FROM AUD_Z0E481_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_Z0E481_UOn AND AUDMstId = AUD_Z0E481_GuidKey);  COMMIT ;END IF;END;
/

