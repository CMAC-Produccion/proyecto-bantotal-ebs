CREATE OR REPLACE PROCEDURE AUD_C_X054023_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_X054023_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'X054023',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|XLLAOCTA=', RTRIM(COALESCE(AUD_old_XLLAOCTA,AUD_new_XLLAOCTA)) ),CONCAT( '|XLLAOMDA=', RTRIM(COALESCE(AUD_old_XLLAOMDA,AUD_new_XLLAOMDA)) ) ),CONCAT( '|XLLAOMOD=', RTRIM(COALESCE(AUD_old_XLLAOMOD,AUD_new_XLLAOMOD)) ) ),CONCAT( '|XLLAOOPER=', RTRIM(COALESCE(AUD_old_XLLAOOPER,AUD_new_XLLAOOPER)) ) ),CONCAT( '|XLLAOPAP=', RTRIM(COALESCE(AUD_old_XLLAOPAP,AUD_new_XLLAOPAP)) ) ),CONCAT( '|XLLAOSBOP=', RTRIM(COALESCE(AUD_old_XLLAOSBOP,AUD_new_XLLAOSBOP)) ) ),CONCAT( '|XLLAOSUC=', RTRIM(COALESCE(AUD_old_XLLAOSUC,AUD_new_XLLAOSUC)) ) ),CONCAT( '|XLLAOTOP=', RTRIM(COALESCE(AUD_old_XLLAOTOP,AUD_new_XLLAOTOP)) ) ),CONCAT( '|XLLPGCOD=', RTRIM(COALESCE(AUD_old_XLLPGCOD,AUD_new_XLLPGCOD)) ) ),'|' ),AUD_X054023_UBT,AUD_X054023_UBU,AUD_X054023_UBM,AUD_X054023_UBP,AUD_X054023_UBR,AUD_X054023_UAs,AUD_X054023_UBC,AUD_X054023_UBA,AUD_X054023_UBS, '', 'BANTOTAL', '', '', '',AUD_X054023_UT FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOCTA',AUD_old_XLLAOCTA,AUD_new_XLLAOCTA FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOCTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOMDA',AUD_old_XLLAOMDA,AUD_new_XLLAOMDA FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOMDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOMOD',AUD_old_XLLAOMOD,AUD_new_XLLAOMOD FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOMOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOOPER',AUD_old_XLLAOOPER,AUD_new_XLLAOOPER FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOOPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOPAP',AUD_old_XLLAOPAP,AUD_new_XLLAOPAP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOPAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOSBOP',AUD_old_XLLAOSBOP,AUD_new_XLLAOSBOP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOSBOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOSUC',AUD_old_XLLAOSUC,AUD_new_XLLAOSUC FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOSUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAOTOP',AUD_old_XLLAOTOP,AUD_new_XLLAOTOP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAOTOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX1',AUD_old_XLLAUX1,AUD_
new_XLLAUX1 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX2',AUD_old_XLLAUX2,AUD_new_XLLAUX2 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX3',AUD_old_XLLAUX3,AUD_new_XLLAUX3 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX4',AUD_old_XLLAUX4,AUD_new_XLLAUX4 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX5',AUD_old_XLLAUX5,AUD_new_XLLAUX5 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX5'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLAUX6',AUD_old_XLLAUX6,AUD_new_XLLAUX6 FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLAUX6'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCANTCUO',AUD_old_XLLCANTCUO,AUD_new_XLLCANTCUO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCANTCUO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCAPFIN',AUD_old_XLLCAPFIN,AUD_new_XLLCAPFIN FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCAPFIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCAPITAL',AUD_old_XLLCAPITAL,AUD_new_XLLCAPITAL FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCAPITAL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCAPLIQ',AUD_old_XLLCAPLIQ,AUD_new_XLLCAPLIQ FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCAPLIQ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCIUD',AUD_old_XLLCIUD,AUD_new_XLLCIUD FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCIUD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLCNTCUOI',AUD_old_XLLCNTCUOI,AUD_new_XLLCNTCUOI FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLCNTCUOI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLFINANC',AUD_old_XLLFINANC,AUD_new_XLLFINANC FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLFINANC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLFPRIMPA',TO_CHAR(AUD_old_XLLFPRIMPA,'YYYY-MM-DD'),TO_CHAR(AUD_new_XLLFPRIMPA,'YYYY-MM-DD') FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X05
4023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLFPRIMPA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLFPRIPAG',TO_CHAR(AUD_old_XLLFPRIPAG,'YYYY-MM-DD'),TO_CHAR(AUD_new_XLLFPRIPAG,'YYYY-MM-DD') FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLFPRIPAG'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLFVALOR',TO_CHAR(AUD_old_XLLFVALOR,'YYYY-MM-DD'),TO_CHAR(AUD_new_XLLFVALOR,'YYYY-MM-DD') FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLFVALOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLFVTO',TO_CHAR(AUD_old_XLLFVTO,'YYYY-MM-DD'),TO_CHAR(AUD_new_XLLFVTO,'YYYY-MM-DD') FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLFVTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLGRACFIJ',AUD_old_XLLGRACFIJ,AUD_new_XLLGRACFIJ FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLGRACFIJ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLGRADIMP',AUD_old_XLLGRADIMP,AUD_new_XLLGRADIMP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLGRADIMP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLGRADPER',AUD_old_XLLGRADPER,AUD_new_XLLGRADPER FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLGRADPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLGRADPOR',AUD_old_XLLGRADPOR,AUD_new_XLLGRADPOR FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLGRADPOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLIMPU',AUD_old_XLLIMPU,AUD_new_XLLIMPU FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLIMPU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLMEDICO',AUD_old_XLLMEDICO,AUD_new_XLLMEDICO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLMEDICO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLMODOCAL',AUD_old_XLLMODOCAL,AUD_new_XLLMODOCAL FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLMODOCAL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPCLDREV',AUD_old_XLLPCLDREV,AUD_new_XLLPCLDREV FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPCLDREV'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPCLPLUS',AUD_old_XLLPCLPLUS,AUD_new_XLLPCLPLUS FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPCLPLUS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPCLTCOD',AUD_old_XLLPCLTCOD,AUD_new_XLLPCLTCOD FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005
 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPCLTCOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPERIODO',AUD_old_XLLPERIODO,AUD_new_XLLPERIODO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPERIODO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPGCOD',AUD_old_XLLPGCOD,AUD_new_XLLPGCOD FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPGCOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPLAZO',AUD_old_XLLPLAZO,AUD_new_XLLPLAZO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPLAZO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLPRECIO',AUD_old_XLLPRECIO,AUD_new_XLLPRECIO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLPRECIO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLREDON',AUD_old_XLLREDON,AUD_new_XLLREDON FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLREDON'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTASAEJ',AUD_old_XLLTASAEJ,AUD_new_XLLTASAEJ FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTASAEJ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTASAP',AUD_old_XLLTASAP,AUD_new_XLLTASAP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTASAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTFERP',AUD_old_XLLTFERP,AUD_new_XLLTFERP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTFERP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTIPDIAP',AUD_old_XLLTIPDIAP,AUD_new_XLLTIPDIAP FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTIPDIAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTIPOANO',AUD_old_XLLTIPOANO,AUD_new_XLLTIPOANO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTIPOANO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTIPODIA',AUD_old_XLLTIPODIA,AUD_new_XLLTIPODIA FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTIPODIA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTIPOPRE',AUD_old_XLLTIPOPRE,AUD_new_XLLTIPOPRE FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTIPOPRE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLTIPOTAS',AUD_old_XLLTIPOTAS,AUD_new_XLLTIPOTAS FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLTIPOTAS'); INSERT INTO BANTPROD.
AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLVALCAN',AUD_old_XLLVALCAN,AUD_new_XLLVALCAN FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLVALCAN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_X054023_UOn,AUD_X054023_GuidKey,'XLLVALCUO',AUD_old_XLLVALCUO,AUD_new_XLLVALCUO FROM BANTPROD.AUD_X054023_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey AND AUDMstFld = 'XLLVALCUO'); DELETE FROM AUD_X054023_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_X054023_UOn AND AUDMstId = AUD_X054023_GuidKey);  COMMIT ;END IF;END;
/

