CREATE OR REPLACE PROCEDURE AUD_C_JAQZ697_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_JAQZ697_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|JAQZ697COR=', RTRIM(COALESCE(AUD_old_JAQZ697COR,AUD_new_JAQZ697COR)) ),CONCAT( '|JAQZ697FEP=', RTRIM(COALESCE(AUD_old_JAQZ697FEP,AUD_new_JAQZ697FEP)) ) ),CONCAT( '|JAQZ697NDO=', RTRIM(COALESCE(AUD_old_JAQZ697NDO,AUD_new_JAQZ697NDO)) ) ),CONCAT( '|JAQZ697PAI=', RTRIM(COALESCE(AUD_old_JAQZ697PAI,AUD_new_JAQZ697PAI)) ) ),CONCAT( '|JAQZ697TDO=', RTRIM(COALESCE(AUD_old_JAQZ697TDO,AUD_new_JAQZ697TDO)) ) ),'|' ),AUD_JAQZ697_UBT,AUD_JAQZ697_UBU,AUD_JAQZ697_UBM,AUD_JAQZ697_UBP,AUD_JAQZ697_UBR,AUD_JAQZ697_UAs,AUD_JAQZ697_UBC,AUD_JAQZ697_UBA,AUD_JAQZ697_UBS, '', 'BANTOTAL', '', '', '',AUD_JAQZ697_UT FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697ACT',AUD_old_JAQZ697ACT,AUD_new_JAQZ697ACT FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697ACT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697APR',AUD_old_JAQZ697APR,AUD_new_JAQZ697APR FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697APR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697ASE',AUD_old_JAQZ697ASE,AUD_new_JAQZ697ASE FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697ASE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697AU1',TO_CHAR(AUD_old_JAQZ697AU1,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ697AU1,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697AU1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697AU2',AUD_old_JAQZ697AU2,AUD_new_JAQZ697AU2 FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697AU2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697AU3',AUD_old_JAQZ697AU3,AUD_new_JAQZ697AU3 FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697AU3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697AU4',AUD_old_JAQZ697AU4,AUD_new_JAQZ697AU4 FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697AU4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697AU5',AUD_old_JAQZ697AU5,AUD_new_JAQZ697AU5 FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697AU5'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697CAA',AUD_old_JAQZ697CAA,AUD_new_JAQZ697CAA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697CAA'); INSERT INTO BAN
TPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697CAJ',AUD_old_JAQZ697CAJ,AUD_new_JAQZ697CAJ FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697CAJ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697COB',AUD_old_JAQZ697COB,AUD_new_JAQZ697COB FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697COB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697COR',AUD_old_JAQZ697COR,AUD_new_JAQZ697COR FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697COR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697CTA',AUD_old_JAQZ697CTA,AUD_new_JAQZ697CTA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697CTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697CUO',AUD_old_JAQZ697CUO,AUD_new_JAQZ697CUO FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697CUO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697DES',AUD_old_JAQZ697DES,AUD_new_JAQZ697DES FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697DES'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697ERR',AUD_old_JAQZ697ERR,AUD_new_JAQZ697ERR FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697ERR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697EVA',AUD_old_JAQZ697EVA,AUD_new_JAQZ697EVA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697EVA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697EVN',AUD_old_JAQZ697EVN,AUD_new_JAQZ697EVN FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697EVN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697FAN',TO_CHAR(AUD_old_JAQZ697FAN,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ697FAN,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697FAN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697FEP',TO_CHAR(AUD_old_JAQZ697FEP,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ697FEP,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697FEP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697FLG',AUD_old_JAQZ697FLG,AUD_new_JAQZ697FLG FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697FLG'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697INC',AUD_old_JAQZ697INC,AUD_new_JAQZ697INC FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697INC'); I
NSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697IND',AUD_old_JAQZ697IND,AUD_new_JAQZ697IND FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697IND'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MAA',AUD_old_JAQZ697MAA,AUD_new_JAQZ697MAA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MAA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MCU',AUD_old_JAQZ697MCU,AUD_new_JAQZ697MCU FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MCU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MDA',AUD_old_JAQZ697MDA,AUD_new_JAQZ697MDA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MOA',AUD_old_JAQZ697MOA,AUD_new_JAQZ697MOA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MOA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MOD',AUD_old_JAQZ697MOD,AUD_new_JAQZ697MOD FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MOE',AUD_old_JAQZ697MOE,AUD_new_JAQZ697MOE FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MOE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MOT',AUD_old_JAQZ697MOT,AUD_new_JAQZ697MOT FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MOT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697MTO',AUD_old_JAQZ697MTO,AUD_new_JAQZ697MTO FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697MTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697NDO',AUD_old_JAQZ697NDO,AUD_new_JAQZ697NDO FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697NDO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697OPA',AUD_old_JAQZ697OPA,AUD_new_JAQZ697OPA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697OPA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697PAA',AUD_old_JAQZ697PAA,AUD_new_JAQZ697PAA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697PAA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697PAI',AUD_old_JAQZ697PAI,AUD_new_JAQZ697PAI FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697PAI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQ
Z697PZO',AUD_old_JAQZ697PZO,AUD_new_JAQZ697PZO FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697PZO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697SBA',AUD_old_JAQZ697SBA,AUD_new_JAQZ697SBA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697SBA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697SBS',AUD_old_JAQZ697SBS,AUD_new_JAQZ697SBS FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697SBS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697SUA',AUD_old_JAQZ697SUA,AUD_new_JAQZ697SUA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697SUA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697SUC',AUD_old_JAQZ697SUC,AUD_new_JAQZ697SUC FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697SUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697TCA',AUD_old_JAQZ697TCA,AUD_new_JAQZ697TCA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697TCA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697TDO',AUD_old_JAQZ697TDO,AUD_new_JAQZ697TDO FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697TDO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697TIP',AUD_old_JAQZ697TIP,AUD_new_JAQZ697TIP FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697TIP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697TOA',AUD_old_JAQZ697TOA,AUD_new_JAQZ697TOA FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697TOA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697TOP',AUD_old_JAQZ697TOP,AUD_new_JAQZ697TOP FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697TOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ697_UOn,AUD_JAQZ697_GuidKey,'JAQZ697USR',AUD_old_JAQZ697USR,AUD_new_JAQZ697USR FROM BANTPROD.AUD_JAQZ697_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey AND AUDMstFld = 'JAQZ697USR'); DELETE FROM AUD_JAQZ697_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ697_UOn AND AUDMstId = AUD_JAQZ697_GuidKey);  COMMIT ;END IF;END;
/

