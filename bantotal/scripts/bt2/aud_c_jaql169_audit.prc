CREATE OR REPLACE PROCEDURE AUD_C_JAQL169_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_JAQL169_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|JAQL169CTA=', RTRIM(COALESCE(AUD_old_JAQL169CTA,AUD_new_JAQL169CTA)) ),CONCAT( '|JAQL169EMP=', RTRIM(COALESCE(AUD_old_JAQL169EMP,AUD_new_JAQL169EMP)) ) ),CONCAT( '|JAQL169MDA=', RTRIM(COALESCE(AUD_old_JAQL169MDA,AUD_new_JAQL169MDA)) ) ),CONCAT( '|JAQL169MOA=', RTRIM(COALESCE(AUD_old_JAQL169MOA,AUD_new_JAQL169MOA)) ) ),CONCAT( '|JAQL169OPE=', RTRIM(COALESCE(AUD_old_JAQL169OPE,AUD_new_JAQL169OPE)) ) ),CONCAT( '|JAQL169PAP=', RTRIM(COALESCE(AUD_old_JAQL169PAP,AUD_new_JAQL169PAP)) ) ),CONCAT( '|JAQL169SOP=', RTRIM(COALESCE(AUD_old_JAQL169SOP,AUD_new_JAQL169SOP)) ) ),CONCAT( '|JAQL169SUC=', RTRIM(COALESCE(AUD_old_JAQL169SUC,AUD_new_JAQL169SUC)) ) ),CONCAT( '|JAQL169TOA=', RTRIM(COALESCE(AUD_old_JAQL169TOA,AUD_new_JAQL169TOA)) ) ),'|' ),AUD_JAQL169_UBT,AUD_JAQL169_UBU,AUD_JAQL169_UBM,AUD_JAQL169_UBP,AUD_JAQL169_UBR,AUD_JAQL169_UAs,AUD_JAQL169_UBC,AUD_JAQL169_UBA,AUD_JAQL169_UBS, '', 'BANTOTAL', '', '', '',AUD_JAQL169_UT FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ALC',AUD_old_JAQL169ALC,AUD_new_JAQL169ALC FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ALC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169CCO',AUD_old_JAQL169CCO,AUD_new_JAQL169CCO FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169CCO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169CNT',AUD_old_JAQL169CNT,AUD_new_JAQL169CNT FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169CNT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169COL',AUD_old_JAQL169COL,AUD_new_JAQL169COL FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169COL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169CTA',AUD_old_JAQL169CTA,AUD_new_JAQL169CTA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169CTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169DES',AUD_old_JAQL169DES,AUD_new_JAQL169DES FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169DES'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169EMB',AUD_old_JAQL169EMB,AUD_new_JAQL169EMB FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169EMB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169EMP',AUD_old_JAQL169EMP,AUD_new_JAQL169EMP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169EMP'
); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169EST',AUD_old_JAQL169EST,AUD_new_JAQL169EST FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169EST'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169FEC',TO_CHAR(AUD_old_JAQL169FEC,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQL169FEC,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169FEC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169FIN',TO_CHAR(AUD_old_JAQL169FIN,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQL169FIN,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169FIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169FPO',TO_CHAR(AUD_old_JAQL169FPO,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQL169FPO,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169FPO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169FUP',TO_CHAR(AUD_old_JAQL169FUP,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQL169FUP,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169FUP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169GRA',AUD_old_JAQL169GRA,AUD_new_JAQL169GRA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169GRA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169HOR',AUD_old_JAQL169HOR,AUD_new_JAQL169HOR FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169HOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169IMP',AUD_old_JAQL169IMP,AUD_new_JAQL169IMP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169IMP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169INI',TO_CHAR(AUD_old_JAQL169INI,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQL169INI,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169INI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169INS',AUD_old_JAQL169INS,AUD_new_JAQL169INS FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169INS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ITM',AUD_old_JAQL169ITM,AUD_new_JAQL169ITM FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ITM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ITR',AUD_old_JAQL169ITR,AUD_new_JAQL169ITR FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ITR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ITS',AUD_old_JAQL169ITS,AUD_new_JAQL169ITS FROM BANTPROD.AUD_JAQL169_AUDIT
 WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ITS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ITT',AUD_old_JAQL169ITT,AUD_new_JAQL169ITT FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ITT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MAD',AUD_old_JAQL169MAD,AUD_new_JAQL169MAD FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MAD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MDA',AUD_old_JAQL169MDA,AUD_new_JAQL169MDA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MOA',AUD_old_JAQL169MOA,AUD_new_JAQL169MOA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MOA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MOD',AUD_old_JAQL169MOD,AUD_new_JAQL169MOD FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MOT',AUD_old_JAQL169MOT,AUD_new_JAQL169MOT FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MOT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169MTO',AUD_old_JAQL169MTO,AUD_new_JAQL169MTO FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169MTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169NPR',AUD_old_JAQL169NPR,AUD_new_JAQL169NPR FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169NPR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169OPE',AUD_old_JAQL169OPE,AUD_new_JAQL169OPE FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169OPE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169ORI',AUD_old_JAQL169ORI,AUD_new_JAQL169ORI FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169ORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169PAP',AUD_old_JAQL169PAP,AUD_new_JAQL169PAP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169PAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169POS',AUD_old_JAQL169POS,AUD_new_JAQL169POS FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169POS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169PRA',AUD_old_JAQL169PRA,AUD_new_JAQL169PRA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQ
L169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169PRA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169PRO',AUD_old_JAQL169PRO,AUD_new_JAQL169PRO FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169PRO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169PRP',AUD_old_JAQL169PRP,AUD_new_JAQL169PRP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169PRP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169RUB',AUD_old_JAQL169RUB,AUD_new_JAQL169RUB FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169RUB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169SOP',AUD_old_JAQL169SOP,AUD_new_JAQL169SOP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169SOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169SUC',AUD_old_JAQL169SUC,AUD_new_JAQL169SUC FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169SUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169TIP',AUD_old_JAQL169TIP,AUD_new_JAQL169TIP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169TIP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169TOA',AUD_old_JAQL169TOA,AUD_new_JAQL169TOA FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169TOA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169TOP',AUD_old_JAQL169TOP,AUD_new_JAQL169TOP FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169TOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169USR',AUD_old_JAQL169USR,AUD_new_JAQL169USR FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169USR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL169VAL',AUD_old_JAQL169VAL,AUD_new_JAQL169VAL FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL169VAL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQL169_UOn,AUD_JAQL169_GuidKey,'JAQL170SBS',AUD_old_JAQL170SBS,AUD_new_JAQL170SBS FROM BANTPROD.AUD_JAQL169_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey AND AUDMstFld = 'JAQL170SBS'); DELETE FROM AUD_JAQL169_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQL169_UOn AND AUDMstId = AUD_JAQL169_GuidKey);  COMMIT ;END IF;END;
/

