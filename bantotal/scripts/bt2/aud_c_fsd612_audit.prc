CREATE OR REPLACE PROCEDURE AUD_C_FSD612_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_FSD612_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'FSD612',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|PGCOD=', RTRIM(COALESCE(AUD_old_PGCOD,AUD_new_PGCOD)) ),CONCAT( '|PP1EXTE=', RTRIM(COALESCE(AUD_old_PP1EXTE,AUD_new_PP1EXTE)) ) ),CONCAT( '|PP1NUMP=', RTRIM(COALESCE(AUD_old_PP1NUMP,AUD_new_PP1NUMP)) ) ),CONCAT( '|PPCTA=', RTRIM(COALESCE(AUD_old_PPCTA,AUD_new_PPCTA)) ) ),CONCAT( '|PPFPAG=', RTRIM(COALESCE(AUD_old_PPFPAG,AUD_new_PPFPAG)) ) ),CONCAT( '|PPMDA=', RTRIM(COALESCE(AUD_old_PPMDA,AUD_new_PPMDA)) ) ),CONCAT( '|PPMOD=', RTRIM(COALESCE(AUD_old_PPMOD,AUD_new_PPMOD)) ) ),CONCAT( '|PPOPER=', RTRIM(COALESCE(AUD_old_PPOPER,AUD_new_PPOPER)) ) ),CONCAT( '|PPPAP=', RTRIM(COALESCE(AUD_old_PPPAP,AUD_new_PPPAP)) ) ),CONCAT( '|PPSBOP=', RTRIM(COALESCE(AUD_old_PPSBOP,AUD_new_PPSBOP)) ) ),CONCAT( '|PPSUC=', RTRIM(COALESCE(AUD_old_PPSUC,AUD_new_PPSUC)) ) ),CONCAT( '|PPTIPO=', RTRIM(COALESCE(AUD_old_PPTIPO,AUD_new_PPTIPO)) ) ),CONCAT( '|PPTOPE=', RTRIM(COALESCE(AUD_old_PPTOPE,AUD_new_PPTOPE)) ) ),'|' ),AUD_FSD612_UBT,AUD_FSD612_UBU,AUD_FSD612_UBM,AUD_FSD612_UBP,AUD_FSD612_UBR,AUD_FSD612_UAs,AUD_FSD612_UBC,AUD_FSD612_UBA,AUD_FSD612_UBS, '', 'BANTOTAL', '', '', '',AUD_FSD612_UT FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PGCOD',AUD_old_PGCOD,AUD_new_PGCOD FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PGCOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1EXTE',AUD_old_PP1EXTE,AUD_new_PP1EXTE FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1EXTE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP1',AUD_old_PP1IMP1,AUD_new_PP1IMP1 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP10',AUD_old_PP1IMP10,AUD_new_PP1IMP10 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP10'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP11',AUD_old_PP1IMP11,AUD_new_PP1IMP11 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP11'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP12',AUD_old_PP1IMP12,AUD_new_PP1IMP12 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP12'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP13',AUD_old_PP1IMP13,AUD_new_PP1IMP13 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP13'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP14',AUD_old_PP1IMP14,AUD_new_PP1IMP14 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AU
DMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP14'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP15',AUD_old_PP1IMP15,AUD_new_PP1IMP15 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP15'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP16',AUD_old_PP1IMP16,AUD_new_PP1IMP16 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP16'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP17',AUD_old_PP1IMP17,AUD_new_PP1IMP17 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP17'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP18',AUD_old_PP1IMP18,AUD_new_PP1IMP18 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP18'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP19',AUD_old_PP1IMP19,AUD_new_PP1IMP19 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP19'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP2',AUD_old_PP1IMP2,AUD_new_PP1IMP2 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP20',AUD_old_PP1IMP20,AUD_new_PP1IMP20 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP20'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP3',AUD_old_PP1IMP3,AUD_new_PP1IMP3 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP4',AUD_old_PP1IMP4,AUD_new_PP1IMP4 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP5',AUD_old_PP1IMP5,AUD_new_PP1IMP5 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP5'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP6',AUD_old_PP1IMP6,AUD_new_PP1IMP6 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP6'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP7',AUD_old_PP1IMP7,AUD_new_PP1IMP7 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP7'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP8',AUD_old_PP1IMP8,AUD_new_PP1IMP8 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP8'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1IMP9',AUD_old_PP1IMP9,AUD_new_PP1IMP9 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FS
D612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1IMP9'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1NUMP',AUD_old_PP1NUMP,AUD_new_PP1NUMP FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1NUMP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL1',AUD_old_PP1SAL1,AUD_new_PP1SAL1 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL10',AUD_old_PP1SAL10,AUD_new_PP1SAL10 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL10'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL11',AUD_old_PP1SAL11,AUD_new_PP1SAL11 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL11'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL12',AUD_old_PP1SAL12,AUD_new_PP1SAL12 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL12'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL13',AUD_old_PP1SAL13,AUD_new_PP1SAL13 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL13'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL14',AUD_old_PP1SAL14,AUD_new_PP1SAL14 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL14'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL15',AUD_old_PP1SAL15,AUD_new_PP1SAL15 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL15'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL16',AUD_old_PP1SAL16,AUD_new_PP1SAL16 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL16'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL17',AUD_old_PP1SAL17,AUD_new_PP1SAL17 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL17'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL18',AUD_old_PP1SAL18,AUD_new_PP1SAL18 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL18'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL19',AUD_old_PP1SAL19,AUD_new_PP1SAL19 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL19'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL2',AUD_old_PP1SAL2,AUD_new_PP1SAL2 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL20',AUD_old_PP1SAL20,AUD_new_PP1SAL20 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPRO
D.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL20'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL3',AUD_old_PP1SAL3,AUD_new_PP1SAL3 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL4',AUD_old_PP1SAL4,AUD_new_PP1SAL4 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL5',AUD_old_PP1SAL5,AUD_new_PP1SAL5 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL5'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL6',AUD_old_PP1SAL6,AUD_new_PP1SAL6 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL6'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL7',AUD_old_PP1SAL7,AUD_new_PP1SAL7 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL7'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL8',AUD_old_PP1SAL8,AUD_new_PP1SAL8 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL8'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PP1SAL9',AUD_old_PP1SAL9,AUD_new_PP1SAL9 FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PP1SAL9'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPCTA',AUD_old_PPCTA,AUD_new_PPCTA FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPCTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPFPAG',TO_CHAR(AUD_old_PPFPAG,'YYYY-MM-DD'),TO_CHAR(AUD_new_PPFPAG,'YYYY-MM-DD') FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPFPAG'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPMDA',AUD_old_PPMDA,AUD_new_PPMDA FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPMDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPMOD',AUD_old_PPMOD,AUD_new_PPMOD FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPMOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPOPER',AUD_old_PPOPER,AUD_new_PPOPER FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPOPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPPAP',AUD_old_PPPAP,AUD_new_PPPAP FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPPAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPSBOP',AUD_old_PPSBOP,AUD_new_PPSBOP FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005
 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPSBOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPSUC',AUD_old_PPSUC,AUD_new_PPSUC FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPSUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPTIPO',AUD_old_PPTIPO,AUD_new_PPTIPO FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPTIPO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD612_UOn,AUD_FSD612_GuidKey,'PPTOPE',AUD_old_PPTOPE,AUD_new_PPTOPE FROM BANTPROD.AUD_FSD612_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey AND AUDMstFld = 'PPTOPE'); DELETE FROM AUD_FSD612_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSD612_UOn AND AUDMstId = AUD_FSD612_GuidKey);  COMMIT ;END IF;END;
/

