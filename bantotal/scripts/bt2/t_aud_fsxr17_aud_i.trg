CREATE OR REPLACE TRIGGER T_AUD_FSXR17_AUD_I  AFTER INSERT ON FSXR17  FOR EACH ROW    DECLARE	     RequestNumber VARCHAR2(50);      UserName VARCHAR2(50); 	  WrkstName VARCHAR2(50); 	  Server VARCHAR2(50); 	  Application VARCHAR2(50); 	  ProgramName VARCHAR2(50); 	  TransactionNumber VARCHAR2(50); 	  ConnectionId VARCHAR2(50);      ExistConData NUMBER;    BEGIN      SELECT sys_context('USERENV', 'SID') INTO ConnectionId FROM dual;      SELECT COUNT(*) INTO ExistConData FROM DBA_OBJECTS WHERE OWNER=sys_context( 'userenv', 'current_schema' ) AND OBJECT_TYPE = 'TABLE' AND OBJECT_NAME = 'CONDATA';      IF ExistConData > 0 THEN 		 SELECT MAX(Value) INTO RequestNumber FROM CONDATA WHERE Data ='REQUESTID'; 		 SELECT MAX(Value) INTO UserName FROM CONDATA WHERE Data ='USERID'; 		 SELECT MAX(Value) INTO WrkstName FROM CONDATA WHERE Data ='WRKST'; 		 SELECT MAX(Value) INTO Server FROM CONDATA WHERE Data ='SERVER'; 		 SELECT MAX(Value) INTO Application FROM CONDATA WHERE Data ='APPLICATION'; 		 SELECT MAX(Value) INTO ProgramName FROM CONDATA WHERE Data ='PROGRAM';      END IF;     RequestNumber := COALESCE(RequestNumber,'-1');     TransactionNumber := COALESCE(TransactionNumber,'-1');     ConnectionId := COALESCE(ConnectionId,'-1');     SELECT COALESCE(UserName,sys_context('USERENV', 'SESSION_USER'),'NOTDEFINED') INTO UserName FROM dual;     SELECT COALESCE(WrkstName,sys_context('USERENV', 'HOST'),'NOTDEFINED') INTO WrkstName FROM dual;     SELECT COALESCE(Server,sys_context('USERENV', 'SERVER_HOST'),'NOTDEFINED') INTO Server FROM dual;     SELECT COALESCE(Application,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO Application FROM dual;     SELECT COALESCE(ProgramName,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO ProgramName FROM dual;      INSERT INTO BANTPROD.AUD_FSXR17_AUDIT ( AUD_new_SIATRIB1,AUD_new_SIATRIB10,AUD_new_SIATRIB11,AUD_new_SIATRIB12,AUD_new_SIATRIB13,AUD_new_SIATRIB14,AUD_new_SIATRIB15,AUD_new_SIATRIB16,AUD_new_SIATRIB17,AUD_new_SIATRIB18,AUD_new_SIATRIB19,AUD_new_SIATRIB2,AUD_new_SIATRIB20,AUD_new_SIATRIB21,AUD_new_SIATRIB22,AUD_new_SIATRIB23,AUD_new_SIATRIB24,AUD_new_SIATRIB25,AUD_new_SIATRIB26,AUD_new_SIATRIB27,AUD_new_SIATRIB28,AUD_new_SIATRIB29,AUD_new_SIATRIB3,AUD_new_SIATRIB30,AUD_new_SIATRIB31,AUD_new_SIATRIB4,AUD_new_SIATRIB5,AUD_new_SIATRIB6,AUD_new_SIATRIB7,AUD_new_SIATRIB8,AUD_new_SIATRIB9,AUD_new_SICOD,AUD_new_SIIDIOMA1,AUD_new_SIIDIOMA10,AUD_new_SIIDIOMA11,AUD_new_SIIDIOMA12,AUD_new_SIIDIOMA13,AUD_new_SIIDIOMA14,AUD_new_SIIDIOMA15,AUD_new_SIIDIOMA16,AUD_new_SIIDIOMA17,AUD_new_SIIDIOMA18,AUD_new_SIIDIOMA19,AUD_new_SIIDIOMA2,AUD_new_SIIDIOMA20,AUD_new_SIIDIOMA21,AUD_new_SIIDIOMA22,AUD_new_SIIDIOMA23,AUD_new_SIIDIOMA24,AUD_new_SIIDIOMA25,AUD_new_SIIDIOMA26,AUD_new_SIIDIOMA27,AUD_new_SIIDIOMA28,AUD_new_SIIDIOMA29,AUD_new_SIIDIOMA3,AUD_new_SIIDIOMA30,AUD_new_SIIDIOMA31,AUD_new_SIIDIOMA4,AUD_new_SIIDIOMA5,AUD_new_SIIDIOMA6,AUD_new_SIIDIOMA7,AUD_new_SIIDIOMA8,AUD_new_SIIDIOMA9,AUD_new_SILISTA,AUD_new_SIMOD,AUD_new_SINIMP,AUD_new_SIORD1,AUD_new_SIORD10,AUD_new_SIORD11,AUD_new_SIORD12,AUD_new_SIORD13,AUD_new_SIORD14,AUD_new_SIORD15,AUD_new_SIORD16,AUD_new_SIORD17,AUD_new_SIORD18,AUD_new_SIORD19,AUD_new_SIORD2,AUD_new_SIORD20,AUD_new_SIORD21,AUD_new_SIORD22,AUD_new_SIORD23,AUD_new_SIORD24,AUD_new_SIORD25,AUD_new_SIORD26,AUD_new_SIORD27,AUD_new_SIORD28,AUD_new_SIORD29,AUD_new_SIORD3,AUD_new_SIORD30,AUD_new_SIORD31,AUD_new_SIORD4,AUD_new_SIORD5,AUD_new_SIORD6,AUD_new_SIORD7,AUD_new_SIORD8,AUD_new_SIORD9,AUD_new_SITIPO1,AUD_new_SITIPO10,AUD_new_SITIPO11,AUD_new_SITIPO12,AUD_new_SITIPO13,AUD_new_SITIPO14,AUD_new_SITIPO15,AUD_new_SITIPO16,AUD_new_SITIPO17,AUD_new_SITIPO18,AUD_new_SITIPO19,AUD_new_SITIPO2,AUD_new_SITIPO20,AUD_new_SITIPO21,AUD_new_SITIPO22,AUD_new_SITIPO23,AUD_new_SITIPO24,AUD_new_SITIPO25,AUD_new_SITIPO26,AUD_new_SITIPO27,AUD_new_SITIPO28,AUD_new_SITIPO29,AUD_new_SITIPO3,AUD_new_SITIPO30,AUD_new_SITIPO31,AUD_new_SITIPO4,AUD_new_SITIPO5,AUD_new_SITIPO6,AUD_new_SITIPO7,AUD_new_SITIPO8,AUD_new_SITIPO9,AUD_ne
w_SITRAN, AUD_FSXR17_GuidKey ,AUD_FSXR17_UOn,AUD_FSXR17_UT ,AUD_FSXR17_UBR ,AUD_FSXR17_UBC ,AUD_FSXR17_UBT ,AUD_FSXR17_UBU ,AUD_FSXR17_UBA ,AUD_FSXR17_UBS ,AUD_FSXR17_UBP ,AUD_FSXR17_UBM ,AUD_FSXR17_UAs  )      VALUES (:new.SIATRIB1,:new.SIATRIB10,:new.SIATRIB11,:new.SIATRIB12,:new.SIATRIB13,:new.SIATRIB14,:new.SIATRIB15,:new.SIATRIB16,:new.SIATRIB17,:new.SIATRIB18,:new.SIATRIB19,:new.SIATRIB2,:new.SIATRIB20,:new.SIATRIB21,:new.SIATRIB22,:new.SIATRIB23,:new.SIATRIB24,:new.SIATRIB25,:new.SIATRIB26,:new.SIATRIB27,:new.SIATRIB28,:new.SIATRIB29,:new.SIATRIB3,:new.SIATRIB30,:new.SIATRIB31,:new.SIATRIB4,:new.SIATRIB5,:new.SIATRIB6,:new.SIATRIB7,:new.SIATRIB8,:new.SIATRIB9,:new.SICOD,:new.SIIDIOMA1,:new.SIIDIOMA10,:new.SIIDIOMA11,:new.SIIDIOMA12,:new.SIIDIOMA13,:new.SIIDIOMA14,:new.SIIDIOMA15,:new.SIIDIOMA16,:new.SIIDIOMA17,:new.SIIDIOMA18,:new.SIIDIOMA19,:new.SIIDIOMA2,:new.SIIDIOMA20,:new.SIIDIOMA21,:new.SIIDIOMA22,:new.SIIDIOMA23,:new.SIIDIOMA24,:new.SIIDIOMA25,:new.SIIDIOMA26,:new.SIIDIOMA27,:new.SIIDIOMA28,:new.SIIDIOMA29,:new.SIIDIOMA3,:new.SIIDIOMA30,:new.SIIDIOMA31,:new.SIIDIOMA4,:new.SIIDIOMA5,:new.SIIDIOMA6,:new.SIIDIOMA7,:new.SIIDIOMA8,:new.SIIDIOMA9,:new.SILISTA,:new.SIMOD,:new.SINIMP,:new.SIORD1,:new.SIORD10,:new.SIORD11,:new.SIORD12,:new.SIORD13,:new.SIORD14,:new.SIORD15,:new.SIORD16,:new.SIORD17,:new.SIORD18,:new.SIORD19,:new.SIORD2,:new.SIORD20,:new.SIORD21,:new.SIORD22,:new.SIORD23,:new.SIORD24,:new.SIORD25,:new.SIORD26,:new.SIORD27,:new.SIORD28,:new.SIORD29,:new.SIORD3,:new.SIORD30,:new.SIORD31,:new.SIORD4,:new.SIORD5,:new.SIORD6,:new.SIORD7,:new.SIORD8,:new.SIORD9,:new.SITIPO1,:new.SITIPO10,:new.SITIPO11,:new.SITIPO12,:new.SITIPO13,:new.SITIPO14,:new.SITIPO15,:new.SITIPO16,:new.SITIPO17,:new.SITIPO18,:new.SITIPO19,:new.SITIPO2,:new.SITIPO20,:new.SITIPO21,:new.SITIPO22,:new.SITIPO23,:new.SITIPO24,:new.SITIPO25,:new.SITIPO26,:new.SITIPO27,:new.SITIPO28,:new.SITIPO29,:new.SITIPO3,:new.SITIPO30,:new.SITIPO31,:new.SITIPO4,:new.SITIPO5,:new.SITIPO6,:new.SITIPO7,:new.SITIPO8,:new.SITIPO9,:new.SITRAN, SYS_GUID(),SYSTIMESTAMP,SYSTIMESTAMP,RequestNumber,ConnectionId,TransactionNumber,UserName,Application,Server,ProgramName,WrkstName,'I'); END T_AUD_FSXR17_AUD_I;
/

