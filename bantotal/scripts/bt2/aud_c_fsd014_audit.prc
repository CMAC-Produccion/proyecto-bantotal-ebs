CREATE OR REPLACE PROCEDURE AUD_C_FSD014_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_FSD014_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'FSD014',CONCAT( CONCAT( '|RUBRO=', RTRIM(COALESCE(AUD_old_RUBRO,AUD_new_RUBRO)) ),'|' ),AUD_FSD014_UBT,AUD_FSD014_UBU,AUD_FSD014_UBM,AUD_FSD014_UBP,AUD_FSD014_UBR,AUD_FSD014_UAs,AUD_FSD014_UBC,AUD_FSD014_UBA,AUD_FSD014_UBS, '', 'BANTOTAL', '', '', '',AUD_FSD014_UT FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCAFUN',AUD_old_PCAFUN,AUD_new_PCAFUN FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCAFUN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCAPZO',AUD_old_PCAPZO,AUD_new_PCAPZO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCAPZO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCARES',AUD_old_PCARES,AUD_new_PCARES FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCARES'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCBCU',AUD_old_PCBCU,AUD_new_PCBCU FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCBCU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCBJPA',AUD_old_PCBJPA,AUD_new_PCBJPA FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCBJPA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCCAJA',AUD_old_PCCAJA,AUD_new_PCCAJA FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCCAJA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCCODM',AUD_old_PCCODM,AUD_new_PCCODM FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCCODM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCCODR',AUD_old_PCCODR,AUD_new_PCCODR FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCCODR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCCONC',AUD_old_PCCONC,AUD_new_PCCONC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCCONC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCCTA',AUD_old_PCCTA,AUD_new_PCCTA FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCCTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCDGAH',AUD_old_PCDGAH,AUD_new_PCDGAH FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCDGAH'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCDGAM',AUD_old_PCDGA
M,AUD_new_PCDGAM FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCDGAM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCDGCC',AUD_old_PCDGCC,AUD_new_PCDGCC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCDGCC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCDGDT',AUD_old_PCDGDT,AUD_new_PCDGDT FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCDGDT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCDVGA',AUD_old_PCDVGA,AUD_new_PCDVGA FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCDVGA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCEQCM',AUD_old_PCEQCM,AUD_new_PCEQCM FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCEQCM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCESOP',AUD_old_PCESOP,AUD_new_PCESOP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCESOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCESPE',AUD_old_PCESPE,AUD_new_PCESPE FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCESPE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCEXCC',AUD_old_PCEXCC,AUD_new_PCEXCC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCEXCC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCEXTD',AUD_old_PCEXTD,AUD_new_PCEXTD FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCEXTD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCFICH',AUD_old_PCFICH,AUD_new_PCFICH FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCFICH'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCFORZ',AUD_old_PCFORZ,AUD_new_PCFORZ FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCFORZ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCFUNC',AUD_old_PCFUNC,AUD_new_PCFUNC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCFUNC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCFVAL',AUD_old_PCFVAL,AUD_new_PCFVAL FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCFVAL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCFVTO',AUD_old_PCFVTO,AUD_new_PCFVTO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCFVTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCIMPL',AUD_old_PCIMPL,AUD_new_PCIMPL FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (
SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCIMPL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCIMPU',AUD_old_PCIMPU,AUD_new_PCIMPU FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCIMPU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCINCC',AUD_old_PCINCC,AUD_new_PCINCC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCINCC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCINCR',AUD_old_PCINCR,AUD_new_PCINCR FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCINCR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCMEXT',AUD_old_PCMEXT,AUD_new_PCMEXT FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCMEXT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCMOD',AUD_old_PCMOD,AUD_new_PCMOD FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCMOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCMORI',AUD_old_PCMORI,AUD_new_PCMORI FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCMORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCNIVC',AUD_old_PCNIVC,AUD_new_PCNIVC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCNIVC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCNOMR',AUD_old_PCNOMR,AUD_new_PCNOMR FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCNOMR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCNOMS',AUD_old_PCNOMS,AUD_new_PCNOMS FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCNOMS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCOPER',AUD_old_PCOPER,AUD_new_PCOPER FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCOPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCPROM',AUD_old_PCPROM,AUD_new_PCPROM FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCPROM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCPRSB',AUD_old_PCPRSB,AUD_new_PCPRSB FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCPRSB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCPZO',AUD_old_PCPZO,AUD_new_PCPZO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCPZO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCRDEC',AUD_old_PCRDEC,AUD_new_PCRDEC FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstI
d = AUD_FSD014_GuidKey AND AUDMstFld = 'PCRDEC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCRPER',AUD_old_PCRPER,AUD_new_PCRPER FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCRPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCRUB',AUD_old_PCRUB,AUD_new_PCRUB FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCRUB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCSBOP',AUD_old_PCSBOP,AUD_new_PCSBOP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCSBOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCSBRG',AUD_old_PCSBRG,AUD_new_PCSBRG FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCSBRG'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCSIGP',AUD_old_PCSIGP,AUD_new_PCSIGP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCSIGP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCSUB',AUD_old_PCSUB,AUD_new_PCSUB FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCSUB'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCSUBS',AUD_old_PCSUBS,AUD_new_PCSUBS FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCSUBS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCTESP',AUD_old_PCTESP,AUD_new_PCTESP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCTESP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCTSOP',AUD_old_PCTSOP,AUD_new_PCTSOP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCTSOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PCVOBO',AUD_old_PCVOBO,AUD_new_PCVOBO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PCVOBO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PMCAP',AUD_old_PMCAP,AUD_new_PMCAP FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PMCAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PMGRU',AUD_old_PMGRU,AUD_new_PMGRU FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PMGRU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PMPZO',AUD_old_PMPZO,AUD_new_PMPZO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PMPZO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSD014_UOn,AUD_FSD014_GuidKey,'PMTIT',AUD_old_PMTIT,AUD_new_PMTIT FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'PMTIT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_F
SD014_UOn,AUD_FSD014_GuidKey,'RUBRO',AUD_old_RUBRO,AUD_new_RUBRO FROM BANTPROD.AUD_FSD014_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey AND AUDMstFld = 'RUBRO'); DELETE FROM AUD_FSD014_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSD014_UOn AND AUDMstId = AUD_FSD014_GuidKey);  COMMIT ;END IF;END;
/

