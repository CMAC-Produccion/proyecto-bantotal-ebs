CREATE OR REPLACE PROCEDURE AUD_C_JAQZ862_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_JAQZ862_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862',CONCAT( CONCAT( CONCAT( CONCAT( '|JAQZ862CORR=', RTRIM(COALESCE(AUD_old_JAQZ862CORR,AUD_new_JAQZ862CORR)) ),CONCAT( '|JAQZ862FECH=', RTRIM(COALESCE(AUD_old_JAQZ862FECH,AUD_new_JAQZ862FECH)) ) ),CONCAT( '|JAQZ862HORA=', RTRIM(COALESCE(AUD_old_JAQZ862HORA,AUD_new_JAQZ862HORA)) ) ),'|' ),AUD_JAQZ862_UBT,AUD_JAQZ862_UBU,AUD_JAQZ862_UBM,AUD_JAQZ862_UBP,AUD_JAQZ862_UBR,AUD_JAQZ862_UAs,AUD_JAQZ862_UBC,AUD_JAQZ862_UBA,AUD_JAQZ862_UBS, '', 'BANTOTAL', '', '', '',AUD_JAQZ862_UT FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX1',AUD_old_JAQZ862AUX1,AUD_new_JAQZ862AUX1 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX2',AUD_old_JAQZ862AUX2,AUD_new_JAQZ862AUX2 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX3',AUD_old_JAQZ862AUX3,AUD_new_JAQZ862AUX3 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX4',AUD_old_JAQZ862AUX4,AUD_new_JAQZ862AUX4 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX5',AUD_old_JAQZ862AUX5,AUD_new_JAQZ862AUX5 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX5'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX6',TO_CHAR(AUD_old_JAQZ862AUX6,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ862AUX6,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX6'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX7',AUD_old_JAQZ862AUX7,AUD_new_JAQZ862AUX7 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX7'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX8',AUD_old_JAQZ862AUX8,AUD_new_JAQZ862AUX8 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX8'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862AUX9',AUD_old_JAQZ862AUX9,AUD_new_JAQZ862AUX9 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862AUX9'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862CCALC',AUD_old_JAQZ862CCALC,AUD_new_JAQZ862CCALC FROM BANTPROD.AUD_JAQZ86
2_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862CCALC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862CENT',AUD_old_JAQZ862CENT,AUD_new_JAQZ862CENT FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862CENT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862CHEK',AUD_old_JAQZ862CHEK,AUD_new_JAQZ862CHEK FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862CHEK'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862CORR',AUD_old_JAQZ862CORR,AUD_new_JAQZ862CORR FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862CORR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862CPTN',AUD_old_JAQZ862CPTN,AUD_new_JAQZ862CPTN FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862CPTN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862DORI',AUD_old_JAQZ862DORI,AUD_new_JAQZ862DORI FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862DORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862ENTI',AUD_old_JAQZ862ENTI,AUD_new_JAQZ862ENTI FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862ENTI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862ESTA',AUD_old_JAQZ862ESTA,AUD_new_JAQZ862ESTA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862ESTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FAC1',AUD_old_JAQZ862FAC1,AUD_new_JAQZ862FAC1 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FAC1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FAC2',AUD_old_JAQZ862FAC2,AUD_new_JAQZ862FAC2 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FAC2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FAC3',AUD_old_JAQZ862FAC3,AUD_new_JAQZ862FAC3 FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FAC3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FECH',TO_CHAR(AUD_old_JAQZ862FECH,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ862FECH,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FECH'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FLIN',AUD_old_JAQZ862FLIN,AUD_new_JAQZ862FLIN FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FLIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862FRCC',TO_CHAR(AUD_old_JAQZ862FRCC,'YYYY-MM-DD')
,TO_CHAR(AUD_new_JAQZ862FRCC,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862FRCC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862GFIN',AUD_old_JAQZ862GFIN,AUD_new_JAQZ862GFIN FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862GFIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862HORA',AUD_old_JAQZ862HORA,AUD_new_JAQZ862HORA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862HORA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862INST',AUD_old_JAQZ862INST,AUD_new_JAQZ862INST FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862INST'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862LINE',AUD_old_JAQZ862LINE,AUD_new_JAQZ862LINE FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862LINE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862MDA',AUD_old_JAQZ862MDA,AUD_new_JAQZ862MDA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862MDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862NDOC',AUD_old_JAQZ862NDOC,AUD_new_JAQZ862NDOC FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862NDOC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862NEVA',AUD_old_JAQZ862NEVA,AUD_new_JAQZ862NEVA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862NEVA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862PAIS',AUD_old_JAQZ862PAIS,AUD_new_JAQZ862PAIS FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862PAIS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862PERS',AUD_old_JAQZ862PERS,AUD_new_JAQZ862PERS FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862PERS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862PLAZ',AUD_old_JAQZ862PLAZ,AUD_new_JAQZ862PLAZ FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862PLAZ'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862RELA',AUD_old_JAQZ862RELA,AUD_new_JAQZ862RELA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862RELA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862RUBR',AUD_old_JAQZ862RUBR,AUD_new_JAQZ862RUBR FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862RUBR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862SDEU',AUD_old_JAQZ862SDEU,AUD
_new_JAQZ862SDEU FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862SDEU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862TAZA',AUD_old_JAQZ862TAZA,AUD_new_JAQZ862TAZA FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862TAZA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862TCRE',AUD_old_JAQZ862TCRE,AUD_new_JAQZ862TCRE FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862TCRE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862TDOC',AUD_old_JAQZ862TDOC,AUD_new_JAQZ862TDOC FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862TDOC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862TLIN',AUD_old_JAQZ862TLIN,AUD_new_JAQZ862TLIN FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862TLIN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ862_UOn,AUD_JAQZ862_GuidKey,'JAQZ862UTIL',AUD_old_JAQZ862UTIL,AUD_new_JAQZ862UTIL FROM BANTPROD.AUD_JAQZ862_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey AND AUDMstFld = 'JAQZ862UTIL'); DELETE FROM AUD_JAQZ862_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ862_UOn AND AUDMstId = AUD_JAQZ862_GuidKey);  COMMIT ;END IF;END;
/

