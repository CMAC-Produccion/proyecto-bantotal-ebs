CREATE OR REPLACE TRIGGER T_AUD_JAQN8A_AUD_I  AFTER INSERT ON JAQN8A  FOR EACH ROW    DECLARE	     RequestNumber VARCHAR2(50);      UserName VARCHAR2(50); 	  WrkstName VARCHAR2(50); 	  Server VARCHAR2(50); 	  Application VARCHAR2(50); 	  ProgramName VARCHAR2(50); 	  TransactionNumber VARCHAR2(50); 	  ConnectionId VARCHAR2(50);      ExistConData NUMBER;    BEGIN      SELECT sys_context('USERENV', 'SID') INTO ConnectionId FROM dual;      SELECT COUNT(*) INTO ExistConData FROM DBA_OBJECTS WHERE OWNER=sys_context( 'userenv', 'current_schema' ) AND OBJECT_TYPE = 'TABLE' AND OBJECT_NAME = 'CONDATA';      IF ExistConData > 0 THEN 		 SELECT MAX(Value) INTO RequestNumber FROM CONDATA WHERE Data ='REQUESTID'; 		 SELECT MAX(Value) INTO UserName FROM CONDATA WHERE Data ='USERID'; 		 SELECT MAX(Value) INTO WrkstName FROM CONDATA WHERE Data ='WRKST'; 		 SELECT MAX(Value) INTO Server FROM CONDATA WHERE Data ='SERVER'; 		 SELECT MAX(Value) INTO Application FROM CONDATA WHERE Data ='APPLICATION'; 		 SELECT MAX(Value) INTO ProgramName FROM CONDATA WHERE Data ='PROGRAM';      END IF;     RequestNumber := COALESCE(RequestNumber,'-1');     TransactionNumber := COALESCE(TransactionNumber,'-1');     ConnectionId := COALESCE(ConnectionId,'-1');     SELECT COALESCE(UserName,sys_context('USERENV', 'SESSION_USER'),'NOTDEFINED') INTO UserName FROM dual;     SELECT COALESCE(WrkstName,sys_context('USERENV', 'HOST'),'NOTDEFINED') INTO WrkstName FROM dual;     SELECT COALESCE(Server,sys_context('USERENV', 'SERVER_HOST'),'NOTDEFINED') INTO Server FROM dual;     SELECT COALESCE(Application,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO Application FROM dual;     SELECT COALESCE(ProgramName,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO ProgramName FROM dual;      INSERT INTO BANTPROD.AUD_JAQN8A_AUDIT ( AUD_new_JAQN8AAF1,AUD_new_JAQN8AAF2,AUD_new_JAQN8AAI1,AUD_new_JAQN8AAI2,AUD_new_JAQN8AAMC,AUD_new_JAQN8AAN1,AUD_new_JAQN8AAN2,AUD_new_JAQN8AAT1,AUD_new_JAQN8AAT2,AUD_new_JAQN8AAUT,AUD_new_JAQN8ACAA,AUD_new_JAQN8ACAP,AUD_new_JAQN8ACCD,AUD_new_JAQN8ACCO,AUD_new_JAQN8ACER,AUD_new_JAQN8ACES,AUD_new_JAQN8ACFE,AUD_new_JAQN8ACMD,AUD_new_JAQN8ACOD,AUD_new_JAQN8ACOR,AUD_new_JAQN8ACRE,AUD_new_JAQN8ACSB,AUD_new_JAQN8ACSU,AUD_new_JAQN8ACTA,AUD_new_JAQN8ACTR,AUD_new_JAQN8ADAC,AUD_new_JAQN8ADER,AUD_new_JAQN8AEMP,AUD_new_JAQN8AEST,AUD_new_JAQN8AFEC,AUD_new_JAQN8AFEP,AUD_new_JAQN8AFIE,AUD_new_JAQN8AFUM,AUD_new_JAQN8AHUM,AUD_new_JAQN8AICA,AUD_new_JAQN8AICV,AUD_new_JAQN8AINA,AUD_new_JAQN8AINS,AUD_new_JAQN8AINT,AUD_new_JAQN8AMCA,AUD_new_JAQN8AMDA,AUD_new_JAQN8AMOA,AUD_new_JAQN8AMOD,AUD_new_JAQN8AMOR,AUD_new_JAQN8ANAU,AUD_new_JAQN8ANCU,AUD_new_JAQN8AOPE,AUD_new_JAQN8APAM,AUD_new_JAQN8APAP,AUD_new_JAQN8APCA,AUD_new_JAQN8APEA,AUD_new_JAQN8APEN,AUD_new_JAQN8APIA,AUD_new_JAQN8APIN,AUD_new_JAQN8APMA,AUD_new_JAQN8APMC,AUD_new_JAQN8APPA,AUD_new_JAQN8ASBO,AUD_new_JAQN8ASEG,AUD_new_JAQN8ASIT,AUD_new_JAQN8ASUC,AUD_new_JAQN8ATEX,AUD_new_JAQN8ATGA,AUD_new_JAQN8ATIP,AUD_new_JAQN8ATOP,AUD_new_JAQN8ATRP,AUD_new_JAQN8AUSC,AUD_new_JAQN8AUSP,AUD_new_JAQN8AWKA,AUD_new_JAQN8AWKP, AUD_JAQN8A_GuidKey ,AUD_JAQN8A_UOn,AUD_JAQN8A_UT ,AUD_JAQN8A_UBR ,AUD_JAQN8A_UBC ,AUD_JAQN8A_UBT ,AUD_JAQN8A_UBU ,AUD_JAQN8A_UBA ,AUD_JAQN8A_UBS ,AUD_JAQN8A_UBP ,AUD_JAQN8A_UBM ,AUD_JAQN8A_UAs  )      VALUES (:new.JAQN8AAF1,:new.JAQN8AAF2,:new.JAQN8AAI1,:new.JAQN8AAI2,:new.JAQN8AAMC,:new.JAQN8AAN1,:new.JAQN8AAN2,:new.JAQN8AAT1,:new.JAQN8AAT2,:new.JAQN8AAUT,:new.JAQN8ACAA,:new.JAQN8ACAP,:new.JAQN8ACCD,:new.JAQN8ACCO,:new.JAQN8ACER,:new.JAQN8ACES,:new.JAQN8ACFE,:new.JAQN8ACMD,:new.JAQN8ACOD,:new.JAQN8ACOR,:new.JAQN8ACRE,:new.JAQN8ACSB,:new.JAQN8ACSU,:new.JAQN8ACTA,:new.JAQN8ACTR,:new.JAQN8ADAC,:new.JAQN8ADER,:new.JAQN8AEMP,:new.JAQN8AEST,:new.JAQN8AFEC,:new.JAQN8AFEP,:new.JAQN8AFIE,:new.JAQN8AFUM,:new.JAQN8AHUM,:new.JAQN8AICA,:new.JAQN8AICV,:new.JAQN8AINA,:new.JAQN8AINS,:new.JAQN8AINT,:new.JAQN8AMCA,:new.JAQN8AMDA,:new.JAQN8AMOA,:new.JAQN8AMOD,:new.JAQN8AMOR,:new.JAQN8ANAU,:new.JAQN8ANCU,:new.JAQN8AOPE,:new.JAQN8APAM,:new.JAQN
8APAP,:new.JAQN8APCA,:new.JAQN8APEA,:new.JAQN8APEN,:new.JAQN8APIA,:new.JAQN8APIN,:new.JAQN8APMA,:new.JAQN8APMC,:new.JAQN8APPA,:new.JAQN8ASBO,:new.JAQN8ASEG,:new.JAQN8ASIT,:new.JAQN8ASUC,:new.JAQN8ATEX,:new.JAQN8ATGA,:new.JAQN8ATIP,:new.JAQN8ATOP,:new.JAQN8ATRP,:new.JAQN8AUSC,:new.JAQN8AUSP,:new.JAQN8AWKA,:new.JAQN8AWKP, SYS_GUID(),SYSTIMESTAMP,SYSTIMESTAMP,RequestNumber,ConnectionId,TransactionNumber,UserName,Application,Server,ProgramName,WrkstName,'I'); END T_AUD_JAQN8A_AUD_I;
/

