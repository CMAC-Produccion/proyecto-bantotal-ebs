CREATE OR REPLACE PROCEDURE AUD_C_FSE115_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_FSE115_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'FSE115',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|SE115COD=', RTRIM(COALESCE(AUD_old_SE115COD,AUD_new_SE115COD)) ),CONCAT( '|SE115CTA=', RTRIM(COALESCE(AUD_old_SE115CTA,AUD_new_SE115CTA)) ) ),CONCAT( '|SE115MDA=', RTRIM(COALESCE(AUD_old_SE115MDA,AUD_new_SE115MDA)) ) ),CONCAT( '|SE115MOD=', RTRIM(COALESCE(AUD_old_SE115MOD,AUD_new_SE115MOD)) ) ),CONCAT( '|SE115OPER=', RTRIM(COALESCE(AUD_old_SE115OPER,AUD_new_SE115OPER)) ) ),CONCAT( '|SE115PAP=', RTRIM(COALESCE(AUD_old_SE115PAP,AUD_new_SE115PAP)) ) ),CONCAT( '|SE115SBOP=', RTRIM(COALESCE(AUD_old_SE115SBOP,AUD_new_SE115SBOP)) ) ),CONCAT( '|SE115SUC=', RTRIM(COALESCE(AUD_old_SE115SUC,AUD_new_SE115SUC)) ) ),CONCAT( '|SE115TOPE=', RTRIM(COALESCE(AUD_old_SE115TOPE,AUD_new_SE115TOPE)) ) ),'|' ),AUD_FSE115_UBT,AUD_FSE115_UBU,AUD_FSE115_UBM,AUD_FSE115_UBP,AUD_FSE115_UBR,AUD_FSE115_UAs,AUD_FSE115_UBC,AUD_FSE115_UBA,AUD_FSE115_UBS, '', 'BANTOTAL', '', '', '',AUD_FSE115_UT FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115AX1',AUD_old_SE115AX1,AUD_new_SE115AX1 FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115AX1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115AX2',AUD_old_SE115AX2,AUD_new_SE115AX2 FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115AX2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115AX3',AUD_old_SE115AX3,AUD_new_SE115AX3 FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115AX3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115AX4',AUD_old_SE115AX4,AUD_new_SE115AX4 FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115AX4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115BCODS',AUD_old_SE115BCODS,AUD_new_SE115BCODS FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115BCODS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115BCOOR',AUD_old_SE115BCOOR,AUD_new_SE115BCOOR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115BCOOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115BSUDS',AUD_old_SE115BSUDS,AUD_new_SE115BSUDS FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115BSUDS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115BSUOR',AUD_old_SE115BSUOR,AUD_new_SE115BSUOR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115BSUOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CCIDS',AUD_old_SE115CCIDS,AUD_new_SE115CCIDS FROM BANTPRO
D.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CCIDS'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CCIOR',AUD_old_SE115CCIOR,AUD_new_SE115CCIOR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CCIOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CD',AUD_old_SE115CD,AUD_new_SE115CD FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CLASI',AUD_old_SE115CLASI,AUD_new_SE115CLASI FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CLASI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CO',AUD_old_SE115CO,AUD_new_SE115CO FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115COD',AUD_old_SE115COD,AUD_new_SE115COD FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115COD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CODT',AUD_old_SE115CODT,AUD_new_SE115CODT FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CODT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CRIT',AUD_old_SE115CRIT,AUD_new_SE115CRIT FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CRIT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115CTA',AUD_old_SE115CTA,AUD_new_SE115CTA FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115CTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115DIRBE',AUD_old_SE115DIRBE,AUD_new_SE115DIRBE FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115DIRBE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115DIROR',AUD_old_SE115DIROR,AUD_new_SE115DIROR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115DIROR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115F1',TO_CHAR(AUD_old_SE115F1,'YYYY-MM-DD'),TO_CHAR(AUD_new_SE115F1,'YYYY-MM-DD') FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115F1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115FC',TO_CHAR(AUD_old_SE115FC,'YYYY-MM-DD'),TO_CHAR(AUD_new_SE115FC,'YYYY-MM-DD') FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115FC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115FVAL',TO_CHAR(AUD_old_SE115FVAL,'YYYY-MM-DD'),TO_CHAR(AUD_new_SE115FVAL,'YYYY-MM-DD') FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim
 = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115FVAL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115FVTO',TO_CHAR(AUD_old_SE115FVTO,'YYYY-MM-DD'),TO_CHAR(AUD_new_SE115FVTO,'YYYY-MM-DD') FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115FVTO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115IMP',AUD_old_SE115IMP,AUD_new_SE115IMP FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115IMP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115IMPCO',AUD_old_SE115IMPCO,AUD_new_SE115IMPCO FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115IMPCO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115MD',AUD_old_SE115MD,AUD_new_SE115MD FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115MD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115MDA',AUD_old_SE115MDA,AUD_new_SE115MDA FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115MDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115MDACO',AUD_old_SE115MDACO,AUD_new_SE115MDACO FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115MDACO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115MOD',AUD_old_SE115MOD,AUD_new_SE115MOD FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115MOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115NDBEN',AUD_old_SE115NDBEN,AUD_new_SE115NDBEN FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115NDBEN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115NDORI',AUD_old_SE115NDORI,AUD_new_SE115NDORI FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115NDORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115NOMBE',AUD_old_SE115NOMBE,AUD_new_SE115NOMBE FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115NOMBE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115NOMOR',AUD_old_SE115NOMOR,AUD_new_SE115NOMOR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115NOMOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115OPER',AUD_old_SE115OPER,AUD_new_SE115OPER FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115OPER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115OR',AUD_old_SE115OR,AUD_new_SE115OR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115OR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,
'SE115PABEN',AUD_old_SE115PABEN,AUD_new_SE115PABEN FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115PABEN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115PAORI',AUD_old_SE115PAORI,AUD_new_SE115PAORI FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115PAORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115PAP',AUD_old_SE115PAP,AUD_new_SE115PAP FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115PAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115RE',AUD_old_SE115RE,AUD_new_SE115RE FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115RE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115REF',AUD_old_SE115REF,AUD_new_SE115REF FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115REF'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115SBOP',AUD_old_SE115SBOP,AUD_new_SE115SBOP FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115SBOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115SBOR',AUD_old_SE115SBOR,AUD_new_SE115SBOR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115SBOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115SU',AUD_old_SE115SU,AUD_new_SE115SU FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115SU'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115SUC',AUD_old_SE115SUC,AUD_new_SE115SUC FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115SUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TC',AUD_old_SE115TC,AUD_new_SE115TC FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TDBEN',AUD_old_SE115TDBEN,AUD_new_SE115TDBEN FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TDBEN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TDORI',AUD_old_SE115TDORI,AUD_new_SE115TDORI FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TDORI'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TELBE',AUD_old_SE115TELBE,AUD_new_SE115TELBE FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TELBE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TIPO',AUD_old_SE115TIPO,AUD_new_SE115TIPO FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld
 = 'SE115TIPO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TOPE',AUD_old_SE115TOPE,AUD_new_SE115TOPE FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TOPE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_FSE115_UOn,AUD_FSE115_GuidKey,'SE115TR',AUD_old_SE115TR,AUD_new_SE115TR FROM BANTPROD.AUD_FSE115_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey AND AUDMstFld = 'SE115TR'); DELETE FROM AUD_FSE115_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_FSE115_UOn AND AUDMstId = AUD_FSE115_GuidKey);  COMMIT ;END IF;END;
/

