CREATE OR REPLACE TRIGGER T_AUD_FSXR17_AUD_D  AFTER DELETE ON FSXR17  FOR EACH ROW    DECLARE	     RequestNumber VARCHAR2(50);      UserName VARCHAR2(50); 	  WrkstName VARCHAR2(50); 	  Server VARCHAR2(50); 	  Application VARCHAR2(50); 	  ProgramName VARCHAR2(50); 	  TransactionNumber VARCHAR2(50); 	  ConnectionId VARCHAR2(50);      ExistConData NUMBER;    BEGIN      SELECT sys_context('USERENV', 'SID') INTO ConnectionId FROM dual;      SELECT COUNT(*) INTO ExistConData FROM DBA_OBJECTS WHERE OWNER=sys_context( 'userenv', 'current_schema' ) AND OBJECT_TYPE = 'TABLE' AND OBJECT_NAME = 'CONDATA';      IF ExistConData > 0 THEN 		 SELECT MAX(Value) INTO RequestNumber FROM CONDATA WHERE Data ='REQUESTID'; 		 SELECT MAX(Value) INTO UserName FROM CONDATA WHERE Data ='USERID'; 		 SELECT MAX(Value) INTO WrkstName FROM CONDATA WHERE Data ='WRKST'; 		 SELECT MAX(Value) INTO Server FROM CONDATA WHERE Data ='SERVER'; 		 SELECT MAX(Value) INTO Application FROM CONDATA WHERE Data ='APPLICATION'; 		 SELECT MAX(Value) INTO ProgramName FROM CONDATA WHERE Data ='PROGRAM';      END IF;     RequestNumber := COALESCE(RequestNumber,'-1');     TransactionNumber := COALESCE(TransactionNumber,'-1');     ConnectionId := COALESCE(ConnectionId,'-1');     SELECT COALESCE(UserName,sys_context('USERENV', 'SESSION_USER'),'NOTDEFINED') INTO UserName FROM dual;     SELECT COALESCE(WrkstName,sys_context('USERENV', 'HOST'),'NOTDEFINED') INTO WrkstName FROM dual;     SELECT COALESCE(Server,sys_context('USERENV', 'SERVER_HOST'),'NOTDEFINED') INTO Server FROM dual;     SELECT COALESCE(Application,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO Application FROM dual;     SELECT COALESCE(ProgramName,sys_context('USERENV', 'ACTION'),'NOTDEFINED') INTO ProgramName FROM dual;      INSERT INTO BANTPROD.AUD_FSXR17_AUDIT (AUD_old_SIATRIB1,AUD_old_SIATRIB10,AUD_old_SIATRIB11,AUD_old_SIATRIB12,AUD_old_SIATRIB13,AUD_old_SIATRIB14,AUD_old_SIATRIB15,AUD_old_SIATRIB16,AUD_old_SIATRIB17,AUD_old_SIATRIB18,AUD_old_SIATRIB19,AUD_old_SIATRIB2,AUD_old_SIATRIB20,AUD_old_SIATRIB21,AUD_old_SIATRIB22,AUD_old_SIATRIB23,AUD_old_SIATRIB24,AUD_old_SIATRIB25,AUD_old_SIATRIB26,AUD_old_SIATRIB27,AUD_old_SIATRIB28,AUD_old_SIATRIB29,AUD_old_SIATRIB3,AUD_old_SIATRIB30,AUD_old_SIATRIB31,AUD_old_SIATRIB4,AUD_old_SIATRIB5,AUD_old_SIATRIB6,AUD_old_SIATRIB7,AUD_old_SIATRIB8,AUD_old_SIATRIB9,AUD_old_SICOD,AUD_old_SIIDIOMA1,AUD_old_SIIDIOMA10,AUD_old_SIIDIOMA11,AUD_old_SIIDIOMA12,AUD_old_SIIDIOMA13,AUD_old_SIIDIOMA14,AUD_old_SIIDIOMA15,AUD_old_SIIDIOMA16,AUD_old_SIIDIOMA17,AUD_old_SIIDIOMA18,AUD_old_SIIDIOMA19,AUD_old_SIIDIOMA2,AUD_old_SIIDIOMA20,AUD_old_SIIDIOMA21,AUD_old_SIIDIOMA22,AUD_old_SIIDIOMA23,AUD_old_SIIDIOMA24,AUD_old_SIIDIOMA25,AUD_old_SIIDIOMA26,AUD_old_SIIDIOMA27,AUD_old_SIIDIOMA28,AUD_old_SIIDIOMA29,AUD_old_SIIDIOMA3,AUD_old_SIIDIOMA30,AUD_old_SIIDIOMA31,AUD_old_SIIDIOMA4,AUD_old_SIIDIOMA5,AUD_old_SIIDIOMA6,AUD_old_SIIDIOMA7,AUD_old_SIIDIOMA8,AUD_old_SIIDIOMA9,AUD_old_SILISTA,AUD_old_SIMOD,AUD_old_SINIMP,AUD_old_SIORD1,AUD_old_SIORD10,AUD_old_SIORD11,AUD_old_SIORD12,AUD_old_SIORD13,AUD_old_SIORD14,AUD_old_SIORD15,AUD_old_SIORD16,AUD_old_SIORD17,AUD_old_SIORD18,AUD_old_SIORD19,AUD_old_SIORD2,AUD_old_SIORD20,AUD_old_SIORD21,AUD_old_SIORD22,AUD_old_SIORD23,AUD_old_SIORD24,AUD_old_SIORD25,AUD_old_SIORD26,AUD_old_SIORD27,AUD_old_SIORD28,AUD_old_SIORD29,AUD_old_SIORD3,AUD_old_SIORD30,AUD_old_SIORD31,AUD_old_SIORD4,AUD_old_SIORD5,AUD_old_SIORD6,AUD_old_SIORD7,AUD_old_SIORD8,AUD_old_SIORD9,AUD_old_SITIPO1,AUD_old_SITIPO10,AUD_old_SITIPO11,AUD_old_SITIPO12,AUD_old_SITIPO13,AUD_old_SITIPO14,AUD_old_SITIPO15,AUD_old_SITIPO16,AUD_old_SITIPO17,AUD_old_SITIPO18,AUD_old_SITIPO19,AUD_old_SITIPO2,AUD_old_SITIPO20,AUD_old_SITIPO21,AUD_old_SITIPO22,AUD_old_SITIPO23,AUD_old_SITIPO24,AUD_old_SITIPO25,AUD_old_SITIPO26,AUD_old_SITIPO27,AUD_old_SITIPO28,AUD_old_SITIPO29,AUD_old_SITIPO3,AUD_old_SITIPO30,AUD_old_SITIPO31,AUD_old_SITIPO4,AUD_old_SITIPO5,AUD_old_SITIPO6,AUD_old_SITIPO7,AUD_old_SITIPO8,AUD_old_SITIPO9,AUD_old
_SITRAN, AUD_FSXR17_GuidKey ,AUD_FSXR17_UOn,AUD_FSXR17_UT ,AUD_FSXR17_UBR ,AUD_FSXR17_UBC ,AUD_FSXR17_UBT ,AUD_FSXR17_UBU ,AUD_FSXR17_UBA ,AUD_FSXR17_UBS ,AUD_FSXR17_UBP ,AUD_FSXR17_UBM ,AUD_FSXR17_UAs )      VALUES (:old.SIATRIB1,:old.SIATRIB10,:old.SIATRIB11,:old.SIATRIB12,:old.SIATRIB13,:old.SIATRIB14,:old.SIATRIB15,:old.SIATRIB16,:old.SIATRIB17,:old.SIATRIB18,:old.SIATRIB19,:old.SIATRIB2,:old.SIATRIB20,:old.SIATRIB21,:old.SIATRIB22,:old.SIATRIB23,:old.SIATRIB24,:old.SIATRIB25,:old.SIATRIB26,:old.SIATRIB27,:old.SIATRIB28,:old.SIATRIB29,:old.SIATRIB3,:old.SIATRIB30,:old.SIATRIB31,:old.SIATRIB4,:old.SIATRIB5,:old.SIATRIB6,:old.SIATRIB7,:old.SIATRIB8,:old.SIATRIB9,:old.SICOD,:old.SIIDIOMA1,:old.SIIDIOMA10,:old.SIIDIOMA11,:old.SIIDIOMA12,:old.SIIDIOMA13,:old.SIIDIOMA14,:old.SIIDIOMA15,:old.SIIDIOMA16,:old.SIIDIOMA17,:old.SIIDIOMA18,:old.SIIDIOMA19,:old.SIIDIOMA2,:old.SIIDIOMA20,:old.SIIDIOMA21,:old.SIIDIOMA22,:old.SIIDIOMA23,:old.SIIDIOMA24,:old.SIIDIOMA25,:old.SIIDIOMA26,:old.SIIDIOMA27,:old.SIIDIOMA28,:old.SIIDIOMA29,:old.SIIDIOMA3,:old.SIIDIOMA30,:old.SIIDIOMA31,:old.SIIDIOMA4,:old.SIIDIOMA5,:old.SIIDIOMA6,:old.SIIDIOMA7,:old.SIIDIOMA8,:old.SIIDIOMA9,:old.SILISTA,:old.SIMOD,:old.SINIMP,:old.SIORD1,:old.SIORD10,:old.SIORD11,:old.SIORD12,:old.SIORD13,:old.SIORD14,:old.SIORD15,:old.SIORD16,:old.SIORD17,:old.SIORD18,:old.SIORD19,:old.SIORD2,:old.SIORD20,:old.SIORD21,:old.SIORD22,:old.SIORD23,:old.SIORD24,:old.SIORD25,:old.SIORD26,:old.SIORD27,:old.SIORD28,:old.SIORD29,:old.SIORD3,:old.SIORD30,:old.SIORD31,:old.SIORD4,:old.SIORD5,:old.SIORD6,:old.SIORD7,:old.SIORD8,:old.SIORD9,:old.SITIPO1,:old.SITIPO10,:old.SITIPO11,:old.SITIPO12,:old.SITIPO13,:old.SITIPO14,:old.SITIPO15,:old.SITIPO16,:old.SITIPO17,:old.SITIPO18,:old.SITIPO19,:old.SITIPO2,:old.SITIPO20,:old.SITIPO21,:old.SITIPO22,:old.SITIPO23,:old.SITIPO24,:old.SITIPO25,:old.SITIPO26,:old.SITIPO27,:old.SITIPO28,:old.SITIPO29,:old.SITIPO3,:old.SITIPO30,:old.SITIPO31,:old.SITIPO4,:old.SITIPO5,:old.SITIPO6,:old.SITIPO7,:old.SITIPO8,:old.SITIPO9,:old.SITRAN, SYS_GUID(),SYSTIMESTAMP,SYSTIMESTAMP,RequestNumber,ConnectionId,TransactionNumber,UserName,Application,Server,ProgramName,WrkstName,'D' ); END T_AUD_FSXR17_AUD_D;
/

