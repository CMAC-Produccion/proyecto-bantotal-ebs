CREATE OR REPLACE PROCEDURE AUD_C_JAQZ698_AUDIT AS cnt NUMBER; BEGIN SELECT COUNT(*) INTO cnt FROM BANTPROD.AUD_JAQZ698_AUDIT; IF( cnt > 0 ) THEN INSERT INTO BANTPROD.AUD004 (AUDMstTim, AUDMstId, AUDMstTbl, AUDMstKey, AUDMstTrn, AUDMstUsr, AUDMstWst, AUDMstPgm, AUDMstReq, AUDMstTyp, AUDMstCon, AUDMstApp, AUDMstSrv, AUDMstSes, AUDMstGrp, AUDMstLog, AUDMstCur, AUDMstSnt,AUDMstTic) SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698',CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( CONCAT( '|JAQZ698COR=', RTRIM(COALESCE(AUD_old_JAQZ698COR,AUD_new_JAQZ698COR)) ),CONCAT( '|JAQZ698CTA=', RTRIM(COALESCE(AUD_old_JAQZ698CTA,AUD_new_JAQZ698CTA)) ) ),CONCAT( '|JAQZ698EMP=', RTRIM(COALESCE(AUD_old_JAQZ698EMP,AUD_new_JAQZ698EMP)) ) ),CONCAT( '|JAQZ698FEP=', RTRIM(COALESCE(AUD_old_JAQZ698FEP,AUD_new_JAQZ698FEP)) ) ),CONCAT( '|JAQZ698MDA=', RTRIM(COALESCE(AUD_old_JAQZ698MDA,AUD_new_JAQZ698MDA)) ) ),CONCAT( '|JAQZ698MOD=', RTRIM(COALESCE(AUD_old_JAQZ698MOD,AUD_new_JAQZ698MOD)) ) ),CONCAT( '|JAQZ698OPE=', RTRIM(COALESCE(AUD_old_JAQZ698OPE,AUD_new_JAQZ698OPE)) ) ),CONCAT( '|JAQZ698PAP=', RTRIM(COALESCE(AUD_old_JAQZ698PAP,AUD_new_JAQZ698PAP)) ) ),CONCAT( '|JAQZ698SBO=', RTRIM(COALESCE(AUD_old_JAQZ698SBO,AUD_new_JAQZ698SBO)) ) ),CONCAT( '|JAQZ698SUC=', RTRIM(COALESCE(AUD_old_JAQZ698SUC,AUD_new_JAQZ698SUC)) ) ),CONCAT( '|JAQZ698TOP=', RTRIM(COALESCE(AUD_old_JAQZ698TOP,AUD_new_JAQZ698TOP)) ) ),'|' ),AUD_JAQZ698_UBT,AUD_JAQZ698_UBU,AUD_JAQZ698_UBM,AUD_JAQZ698_UBP,AUD_JAQZ698_UBR,AUD_JAQZ698_UAs,AUD_JAQZ698_UBC,AUD_JAQZ698_UBA,AUD_JAQZ698_UBS, '', 'BANTOTAL', '', '', '',AUD_JAQZ698_UT FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698CA1',AUD_old_JAQZ698CA1,AUD_new_JAQZ698CA1 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698CA1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698CA2',AUD_old_JAQZ698CA2,AUD_new_JAQZ698CA2 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698CA2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698CA3',AUD_old_JAQZ698CA3,AUD_new_JAQZ698CA3 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698CA3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698CA4',AUD_old_JAQZ698CA4,AUD_new_JAQZ698CA4 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698CA4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698COR',AUD_old_JAQZ698COR,AUD_new_JAQZ698COR FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698COR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698CTA',AUD_old_JAQZ698CTA,AUD_new_JAQZ698CTA FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698CTA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698EMP',AUD_old_JAQZ698EMP,AUD_new_JAQZ698EMP FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698EMP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698EST',AUD_old_JAQZ698EST,AUD_new_JAQZ69
8EST FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698EST'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FA1',TO_CHAR(AUD_old_JAQZ698FA1,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FA1,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FA1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FA2',TO_CHAR(AUD_old_JAQZ698FA2,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FA2,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FA2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FA3',TO_CHAR(AUD_old_JAQZ698FA3,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FA3,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FA3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FA4',TO_CHAR(AUD_old_JAQZ698FA4,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FA4,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FA4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FCAP',AUD_old_JAQZ698FCAP,AUD_new_JAQZ698FCAP FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FCAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FEM',TO_CHAR(AUD_old_JAQZ698FEM,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FEM,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FEM'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FEP',TO_CHAR(AUD_old_JAQZ698FEP,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FEP,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FEP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FEV',TO_CHAR(AUD_old_JAQZ698FEV,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FEV,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FEV'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FEX',TO_CHAR(AUD_old_JAQZ698FEX,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FEX,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FEX'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FEXT',TO_CHAR(AUD_old_JAQZ698FEXT,'YYYY-MM-DD'),TO_CHAR(AUD_new_JAQZ698FEXT,'YYYY-MM-DD') FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FEXT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698FMAIL',AUD_old_JAQZ698FMAIL,AUD_new_JAQZ698FMAIL FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698FMAIL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698HE
XT',AUD_old_JAQZ698HEXT,AUD_new_JAQZ698HEXT FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698HEXT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698HOR',AUD_old_JAQZ698HOR,AUD_new_JAQZ698HOR FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698HOR'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698ICA',AUD_old_JAQZ698ICA,AUD_new_JAQZ698ICA FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698ICA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698IND',AUD_old_JAQZ698IND,AUD_new_JAQZ698IND FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698IND'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698INST',AUD_old_JAQZ698INST,AUD_new_JAQZ698INST FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698INST'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698MAIL',AUD_old_JAQZ698MAIL,AUD_new_JAQZ698MAIL FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698MAIL'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698MDA',AUD_old_JAQZ698MDA,AUD_new_JAQZ698MDA FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698MDA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698MOD',AUD_old_JAQZ698MOD,AUD_new_JAQZ698MOD FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698MOD'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698MORA',AUD_old_JAQZ698MORA,AUD_new_JAQZ698MORA FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698MORA'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698NOMARC',AUD_old_JAQZ698NOMARC,AUD_new_JAQZ698NOMARC FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698NOMARC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698NU1',AUD_old_JAQZ698NU1,AUD_new_JAQZ698NU1 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698NU1'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698NU2',AUD_old_JAQZ698NU2,AUD_new_JAQZ698NU2 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698NU2'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698NU3',AUD_old_JAQZ698NU3,AUD_new_JAQZ698NU3 FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698NU3'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698NU4',AUD_old_JAQZ698NU4,AUD_new_JAQZ698NU4 FROM 
BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698NU4'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698OPE',AUD_old_JAQZ698OPE,AUD_new_JAQZ698OPE FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698OPE'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698PAP',AUD_old_JAQZ698PAP,AUD_new_JAQZ698PAP FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698PAP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698PER',AUD_old_JAQZ698PER,AUD_new_JAQZ698PER FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698PER'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698SBO',AUD_old_JAQZ698SBO,AUD_new_JAQZ698SBO FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698SBO'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698SUC',AUD_old_JAQZ698SUC,AUD_new_JAQZ698SUC FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698SUC'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698SUEXT',AUD_old_JAQZ698SUEXT,AUD_new_JAQZ698SUEXT FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698SUEXT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698TLFN',AUD_old_JAQZ698TLFN,AUD_new_JAQZ698TLFN FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698TLFN'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698TOP',AUD_old_JAQZ698TOP,AUD_new_JAQZ698TOP FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698TOP'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698USEXT',AUD_old_JAQZ698USEXT,AUD_new_JAQZ698USEXT FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698USEXT'); INSERT INTO BANTPROD.AUD005 SELECT AUD_JAQZ698_UOn,AUD_JAQZ698_GuidKey,'JAQZ698USRPT',AUD_old_JAQZ698USRPT,AUD_new_JAQZ698USRPT FROM BANTPROD.AUD_JAQZ698_AUDIT WHERE NOT EXISTS (SELECT * FROM BANTPROD.AUD005 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey AND AUDMstFld = 'JAQZ698USRPT'); DELETE FROM AUD_JAQZ698_AUDIT  WHERE  EXISTS (SELECT * FROM BANTPROD.AUD004 WHERE AUDMstTim = AUD_JAQZ698_UOn AND AUDMstId = AUD_JAQZ698_GuidKey);  COMMIT ;END IF;END;
/

